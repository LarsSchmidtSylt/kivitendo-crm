Lx-Office CRM 1.3.0  


Installtion Lx-Office CRM
-------------------------

Dieses Installationsscript erzeugt die notwendigen Verzeichnisse und Tabellen
für die CRM und erweitert einige Tabellen der ERP. Die
Funktionstüchtigkeit der ERP wird dadurch nicht beeinträchtigt.

Achten Sie darauf, dass Sie über TCP Zugriff auf die PostgreSQL
haben (pg_hba.conf, postgresql.conf), was aber erledigt ist, wenn die ERP läuft.

Vorrausetzungen:
	Lx-Office ERP 2.1.x
	PHP >= 4.2x
	PEAR::DB
	PEAR::Contact_Vcard_Build
	PEAR::Contact_Vcard_Parse
	PEAR::Mail_Mime oder php-mail-mime
		jpgraph
	oder
		PEAR::Image_Canvas
		PEAR::Image_Graph
	fpdf + fpdi (http://www.fpdf.de/downloads/)
	ttf-freefont
	php-gd,php-imap
	xajax (http://www.xajaxproject.org/)

z.B. debian:
apt-get install libapache2-mod-php4 php4-gd php4-imap php-mail-mime php4-pear php4-pgsql  php-fpdf php-mail-mime imagemagick

Achtung! Das PEAR-Paket Image_Graph und Image_Canvas sind noch nicht "stable". Daher mit :

	pear install -f Image_Graph
	pear install -f Image_Canvas

installieren.  Ein weiteres Paket ist dafür Vorraussetzung:
	PEAR::Image_Color  

jpgraph muß nicht mehr verwendet werden. Alternativ wird PEAR::Image_Graph verwendet.

AJAX:
Nach und nach werden einige Masken mit Ajax bedient. Die eMail-Maske ist die erste.
Einige Funktionen können wahlweise mit oder ohne Ajax bedient werden. Bis Version 1.4.0 wird 
evtl. nur noch  Ajax unterstützt.
Die Unterstützung muß in der conf.php mit $AJAX=true; eingeschaltet werden.
Das Paket xajax muß im CRM-Verzeichnis im Unterverzeichnis "xajax" installiert werden
oder per Link eingebunden werden.


Wird mit einem Alias für das LxO-Verzeichnis benutzt und soll in einigen Masken der 
jscalendar der ERP benutzt werden, muß das Verzeichnis ins CRM-Verzeichnis verlinkt werden:
cd lx-office-crm
ln -s ../lx-office-erp/js


evtl. php.ini anpassen:
include_path = ".:/usr/share/php:/usr/share/fpdf:/usr/share/jpgraph"
extension=gd.so
.
.

Font für fpdf installieren (Debian):
cd /usr/share/php/Image/Canvas/Fonts
cp /usr/share/fonts/truetype/freefont/FreeSans.ttf .
echo FreeSans,FreeSans.ttf >> fontmap.txt 
 

Das TAR-File entpacken, dabei an HFS halten.
z.B. RPM-Systeme
	cd /srv/; tar xzf lx-office-crm-{version}.tgz
z.B. Debian
	cd /usr/lib/; tar xzf lx-office-crm-{version}.tgz

Crm in die ERP verlinken:
z.B. RPM-Systeme
	cd /srv/lx-office-erp; ln -s ../lx-office-crm crm
z.B. Debian
	cd /usr/lib/lx-office-erp; ln -s ../lx-office-crm crm

ERP-Menu erweitern:
	cd lx-office-erp
	mv menu.ini menu.ini.crm
	cat crm/update/menu130.ini menu.ini.crm > menu.ini

Menuicon kopieren
	cd lx-office-erp
	cp crm/image/CRM.png image/


Eigentümer der Datei auf Webserver setzen
z.B. Debian:
	chown -R www-data: crm/
Andere:
	apache, apache2, httpd, www-run

Im Browser die ERP aufrufen und anmelden
	 -http://localhost/lx-office-erp/login.pl

Melden Sie sich nun an LxO-ERP an und wählen Sie einen CRM-Menüeintrag aus.
Die Datenbankinstallation wird nun durchgeführt.
